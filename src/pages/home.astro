---
// Verificar sesión activa
if (typeof window !== "undefined") {
  const session = localStorage.getItem("mussolini_session");
  if (!session) {
    return Astro.redirect("/");
  }
}

import Layout from "../layouts/Layout.astro";
import Topnav from "../components/Topnav.astro";
import Utopnav from "../components/Utopnav.astro";
import Menu from "../components/Menu.astro";
import Hero from "../components/Hero.astro";
import AboutUs from "../components/AboutUs.astro";
import Footer from "../components/Footer.astro";
import FloatingCart from "../components/FloatingCart.astro";
---

<Layout>
  <div class="w-full mx-auto">
    <Topnav />
    <Utopnav />
    <Hero />
    <div class="w-[95%] mx-auto">
      <Menu />
    </div>
    <AboutUs />
    <Footer />
    <FloatingCart />
  </div>
</Layout>

<script>
  // Verificación adicional del lado del cliente
  const session = localStorage.getItem("mussolini_session");
  if (!session) {
    window.location.href = "/";
  }
</script>
